{% extends "base" %}

{% block content %}
<main class="one-column-page" id="tags-page">
  <div class="content">
    <div class="banner">
      <h3>Tags</h3>
      <p>All categorized tags are viewable here.</p>
    </div>

    {% if tag_groups %}
    {% for group in tag_groups %}
      {% set tag_count = group.tags | length %}

      {% if tag_count != 0 %}
        <details class="tag-group" open>
          <summary>{{ group.name }} ({{ tag_count }})</summary>
          <ol>
          {% for tag in group.tags %}
            <li><a href="{{ tag.name | tag_url() }}">{{ tag.name }}</a> <small>({{ tag.upload_count }})</small></li>
          {% endfor %}
          </ol>
        </details>
      {% endif %}
    {% endfor %}
    {% endif %}

    {% if tags %}
    <details class="tags" open>
      {% set tag_count = tags | length %}
      <summary>Uncategorized ({{ tag_count }})</summary>
      <ol>
        {% for tag in tags %}
          <li><a href="{{ tag.name | tag_url() }}">{{ tag.name }}</a> <small>({{ tag.upload_count }})</small></li>
        {% endfor %}
      </ol>
    </details>
    {% else %}
    <div>
      No tags were found.
    </div>
    {% endif %}
  </div>
</main>
{% endblock content %}